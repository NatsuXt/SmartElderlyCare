# ğŸ”§ ä¸­æ–‡å­—ç¬¦é—®é¢˜å¿«é€Ÿæ’æŸ¥æŒ‡å—

## é—®é¢˜ç°è±¡
å‰ç«¯è°ƒç”¨APIåˆ›å»ºæ•°æ®æ—¶ï¼Œä¸­æ–‡å­—ç¬¦åœ¨æ•°æ®åº“ä¸­æ˜¾ç¤ºä¸ºé—®å·ï¼ˆ???ï¼‰

## âœ… æ­£ç¡®çš„APIè°ƒç”¨æ–¹æ³•

### å…³é”®è¦ç‚¹
1. **å¿…é¡»è®¾ç½®æ­£ç¡®çš„Content-Type**: `application/json; charset=utf-8`
2. **ç¡®ä¿JSONæ­£ç¡®åºåˆ—åŒ–**: ä½¿ç”¨æ ‡å‡†çš„JSON.stringify()
3. **ä½¿ç”¨UTF-8ç¼–ç **: æ‰€æœ‰è¯·æ±‚éƒ½å¿…é¡»ä½¿ç”¨UTF-8ç¼–ç 

### JavaScript/Fetch æ­£ç¡®ç¤ºä¾‹
```javascript
// âœ… æ­£ç¡®æ–¹æ³•
const response = await fetch('http://47.96.238.102:3003/api/RoomManagement/rooms', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json; charset=utf-8',  // å…³é”®ï¼
        'Accept': 'application/json'
    },
    body: JSON.stringify({
        roomNumber: "è±ªåå¥—æˆ¿101",
        roomType: "è±ªåå¥—æˆ¿",
        bedType: "åŒäººå¤§åºŠ",
        status: "ç©ºé—²"
    })
});
```

### Axios æ­£ç¡®ç¤ºä¾‹
```javascript
// âœ… æ­£ç¡®æ–¹æ³•
const response = await axios({
    method: 'POST',
    url: 'http://47.96.238.102:3003/api/RoomManagement/rooms',
    data: {
        roomNumber: "è±ªåå¥—æˆ¿101",
        roomType: "è±ªåå¥—æˆ¿",
        bedType: "åŒäººå¤§åºŠ",
        status: "ç©ºé—²"
    },
    headers: {
        'Content-Type': 'application/json; charset=utf-8',  // å…³é”®ï¼
        'Accept': 'application/json'
    }
});
```

### PowerShell æ­£ç¡®ç¤ºä¾‹
```powershell
# âœ… æ­£ç¡®æ–¹æ³•
$headers = @{
    "Content-Type" = "application/json; charset=utf-8"
    "Accept" = "application/json"
}

$body = @{
    roomNumber = "è±ªåå¥—æˆ¿101"
    roomType = "è±ªåå¥—æˆ¿"
    bedType = "åŒäººå¤§åºŠ"
    status = "ç©ºé—²"
} | ConvertTo-Json

$response = Invoke-RestMethod -Uri "http://47.96.238.102:3003/api/RoomManagement/rooms" -Method POST -Body ([System.Text.Encoding]::UTF8.GetBytes($body)) -Headers $headers
```

## âŒ é”™è¯¯çš„æ–¹æ³•ï¼ˆä¼šå¯¼è‡´é—®å·ï¼‰

### ç¼ºå°‘charsetçš„Content-Type
```javascript
// âŒ é”™è¯¯ - ç¼ºå°‘charset=utf-8
headers: {
    'Content-Type': 'application/json',  // ç¼ºå°‘charset=utf-8
}
```

### é”™è¯¯çš„ç¼–ç æ–¹å¼
```javascript
// âŒ é”™è¯¯ - ä¸è¦æ‰‹åŠ¨ç¼–ç 
body: encodeURIComponent(JSON.stringify(data))  // é”™è¯¯çš„ç¼–ç æ–¹å¼
```

### ç¼ºå°‘æ­£ç¡®çš„å¤´éƒ¨
```javascript
// âŒ é”™è¯¯ - ç¼ºå°‘Content-Type
fetch(url, {
    method: 'POST',
    body: JSON.stringify(data)  // æ²¡æœ‰è®¾ç½®Content-Type
})
```

## ğŸ” å¿«é€Ÿæµ‹è¯•æ–¹æ³•

### 1. æµè§ˆå™¨æ§åˆ¶å°æµ‹è¯•
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œ
fetch('http://47.96.238.102:3003/api/RoomManagement/rooms', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json; charset=utf-8',
        'Accept': 'application/json'
    },
    body: JSON.stringify({
        roomNumber: "æµ‹è¯•æˆ¿é—´" + Date.now(),
        roomType: "æ ‡å‡†é—´",
        bedType: "å•äººåºŠ",
        status: "ç©ºé—²",
        capacity: 1,
        rate: 200,
        floor: 1
    })
})
.then(response => response.json())
.then(data => {
    console.log('åˆ›å»ºç»“æœ:', data);
    // ç«‹å³è¯»å–éªŒè¯
    if (data.success) {
        return fetch(`http://47.96.238.102:3003/api/RoomManagement/rooms/${data.data.roomId}`);
    }
})
.then(response => response.json())
.then(data => {
    console.log('è¯»å–ç»“æœ:', data);
    console.log('ä¸­æ–‡å­—ç¬¦éªŒè¯:', {
        roomType: data.data.roomType,
        bedType: data.data.bedType,
        status: data.data.status
    });
});
```

### 2. PowerShell å¿«é€Ÿæµ‹è¯•
```powershell
# è¿è¡Œå‡†å¤‡å¥½çš„æµ‹è¯•è„šæœ¬
.\Test-ChineseCharacterAPI.ps1
```

### 3. ä½¿ç”¨Postmanæµ‹è¯•
1. è®¾ç½®è¯·æ±‚URL: `http://47.96.238.102:3003/api/RoomManagement/rooms`
2. é€‰æ‹©POSTæ–¹æ³•
3. åœ¨Headersä¸­æ·»åŠ :
   - `Content-Type`: `application/json; charset=utf-8`
   - `Accept`: `application/json`
4. åœ¨Bodyä¸­é€‰æ‹©rawï¼Œè¾“å…¥JSONæ•°æ®

## ğŸ“Š éªŒè¯ä¸­æ–‡å­—ç¬¦çš„æ–¹æ³•

### åˆ›å»ºåç«‹å³éªŒè¯
```javascript
async function testChineseCharacters() {
    // 1. åˆ›å»ºæ•°æ®
    const createResponse = await fetch(apiUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json; charset=utf-8',
            'Accept': 'application/json'
        },
        body: JSON.stringify(chineseData)
    });
    
    const createResult = await createResponse.json();
    
    // 2. ç«‹å³è¯»å–éªŒè¯
    if (createResult.success) {
        const id = createResult.data.roomId; // æˆ–deviceIdç­‰
        const getResponse = await fetch(`${apiUrl}/${id}`);
        const getResult = await getResponse.json();
        
        // 3. æ¯”è¾ƒä¸­æ–‡å­—ç¬¦
        console.log('åˆ›å»ºæ—¶çš„ä¸­æ–‡:', chineseData.roomType);
        console.log('è¯»å–åˆ°çš„ä¸­æ–‡:', getResult.data.roomType);
        
        if (chineseData.roomType === getResult.data.roomType) {
            console.log('âœ… ä¸­æ–‡å­—ç¬¦æ­£ç¡®');
        } else {
            console.log('âŒ ä¸­æ–‡å­—ç¬¦æœ‰é—®é¢˜');
        }
    }
}
```

## ğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1: ä»ç„¶æ˜¾ç¤ºé—®å·
**è§£å†³**: æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£ç¡®å¯åŠ¨ï¼Œç¡®ä¿Oracleç¯å¢ƒå˜é‡è®¾ç½®æ­£ç¡®

### é—®é¢˜2: ç½‘ç»œè¯·æ±‚å¤±è´¥
**è§£å†³**: æ£€æŸ¥æœåŠ¡å™¨åœ°å€å’Œç«¯å£ï¼Œç¡®ä¿é˜²ç«å¢™å…è®¸è®¿é—®

### é—®é¢˜3: JSONè§£æé”™è¯¯
**è§£å†³**: æ£€æŸ¥JSONæ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œé¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦

### é—®é¢˜4: CORSé”™è¯¯
**è§£å†³**: æœåŠ¡å™¨å·²é…ç½®CORSï¼Œå¦‚æœä»æœ‰é—®é¢˜è¯·è”ç³»åç«¯å¼€å‘è€…

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœæŒ‰ç…§ä»¥ä¸Šæ–¹æ³•ä»ç„¶æœ‰é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. å®Œæ•´çš„è¯·æ±‚ä»£ç 
2. æµè§ˆå™¨Networké¢æ¿çš„æˆªå›¾
3. æœåŠ¡å™¨å“åº”çš„å®Œæ•´å†…å®¹
4. æ•°æ®åº“ä¸­å®é™…å­˜å‚¨çš„å†…å®¹

## ğŸ¯ æµ‹è¯•ç”¨çš„APIç«¯ç‚¹

- æˆ¿é—´ç®¡ç†: `POST /api/RoomManagement/rooms`
- è®¾å¤‡ç®¡ç†: `POST /api/DeviceManagement/devices`  
- å¥åº·ç›‘æµ‹: `POST /api/HealthMonitoring/records`
- ç”µå­å›´æ : `POST /api/ElectronicFence/fences`

**é‡è¦æé†’**: ç¡®ä¿æ¯ä¸ªè¯·æ±‚éƒ½åŒ…å« `Content-Type: application/json; charset=utf-8` å¤´éƒ¨ï¼
